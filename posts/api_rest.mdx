---
title: "Engenharia de Software: API & REST"

description: "Explorando conceitos e boas pr√°ticas para APIs e REST."

date: January 15, 2025
data: 15 de Janeiro de 2025
---

<span className="text-justify">
Da s√©rie de estudos sobre desenvolvimento de software, hoje √© dia de falar sobre dois elementos muito conhecidos actualmente: API e REST, este texto tem como objetivo abordar alguns conceitos e t√≥picos relevantes sobre cada um deles.
</span>
<br/><br/>

### <span className="text-xl"> <b>API (Application Programming Interface)</b> </span>
<br/>

<span className="text-justify">
Em portugu√™s, **Interface de Programa√ß√£o de Aplica√ß√µes**, √© um conjunto de rotinas e padr√µes estabelecidos por um software para que suas funcionalidades possam ser utilizadas por aplica√ß√µes externas sem que estas precisem conhecer detalhes da implementa√ß√£o do software. Geralmente s√£o criadas rotas que ficam expostas e recebem requisi√ß√µes HTTP com o objetivo de retornar dados num determinado padr√£o, sem esquecer a seguran√ßa com autentica√ß√£o e autoriza√ß√£o.
</span>
<br/>

#### <u>Vejamos um exemplo com actividades da vida real em que temos as seguintes personagens</u>
<br/>

<span className="text-justify">
1.A **Maria** (utilizador) vai √† cafetaria e diz ao **Jo√£o** (API) que quer um hamb√∫rguer com as suas prefer√™ncias (m√©todo e par√¢metros);<br/>
2.O **Jo√£o** (API) passa o pedido ao **Pedro** (a aplica√ß√£o por detr√°s da API) para preparar o hamb√∫rguer (pedido);<br/>
3.O **Pedro** prepara o hamb√∫rguer e devolve-o ao **Jo√£o** (resposta);<br/>
4.O **Jo√£o** entrega o hamb√∫rguer pronto √† **Maria** (resposta).<br/>
</span>
<br/>
#### <u>Tipos de API Comuns</u>
<br/>

-**API Web**: as que os devs criam para serem consumidas por outras aplica√ß√µes na Internet;<br/>
<div className="flex flex-col items-center justify-center">
<Image
  src="/img/APIWeb.png"
  alt="Rota de API web Laravel"
  width={1000}
  height={60}
/>
</div>
<br/>
<span className="text-justify">
-**API de c√≥digo fonte**: as que as linguagens de programa√ß√£o ou frameworks fornecem, por exemplo, a API de datas, linguagens como Javascript, PHP, C# e outras fornecem um conjunto de mecanismos para aceder e manipular datas.
</span>
<br/>
<div className="flex flex-col items-center justify-center">
<Image
  src="/img/APIData.png"
  alt="API de Datas do Javascript"
  width={500}
  height={60}
/>
</div>
<br/><br/>
### <span className="text-xl"> <b>REST (Representational State Transfer)</b> </span>
<br/>

<span className="text-justify">
**Transfer√™ncia Representacional de Estado**, √© um modelo de arquitetura apresentado na tese de doutoramento de¬†<a href="https://en.wikipedia.org/wiki/Roy_Fielding" className="border-b transition-all text-gray-500 duration-500 hover:border-gray-500" target="_blank">Roy Fielding </a>¬†na decada de 2000 que fornece directrizes para que os sistemas distribuidos comuniquem directamente utilizando  os princ√≠pios e protocolos da Web existentes, sem necessidade <a href="https://pt.wikipedia.org/wiki/SOAP" className="border-b transition-all text-gray-500 duration-500 hover:border-gray-500" target="_blank">SOAP</a> de qualquer outro protocolo sofisticado.
<br/>
Existe um princ√≠pio no REST chamado STATELESSNESS, em que o servidor n√£o precisa de saber em que estado se encontra o cliente e vice-versa. 
<br/>
O REST requer que um cliente efectue uma requisi√ß√£o ao servidor para enviar ou modificar dados. Uma requisi√ß√£o consiste em:
</span>
<br/>

#### <u>Estrutura de uma Requisi√ß√£o REST</u>
<br/>
<span className="text-justify">
-**Um verbo ou m√©todo HTTP**, que define que tipo de opera√ß√£o o servidor vai realizar;<br/>
-**Um header**, com o cabe√ßalho da requisi√ß√£o que fornece informa√ß√µes sobre a requisi√ß√£o;<br/>
-**Um path (caminho ou rota)**¬†para o servidor, ex.: <a href="https://manuelluvuvamo.vercel.app/blog/programador_zero" className="border-b transition-all text-gray-500 duration-500 hover:border-gray-500" target="_blank">https://manuelluvuvamo.vercel.app/blog/programador_zero</a>;<br/>
-**Informa√ß√£o no corpo da requisi√ß√£o**, sendo esta informa√ß√£o opcional.
</span>

<br/>
#### <u>M√©todos HTTP mais utilizados</u>
<br/>
<span className="text-justify">
-**GET**: √© geralmente usado para solicitar que um servidor envie um recurso ou informa√ß√£o;<br/>
-**POST**: √© frequentemente utilizado para suportar formul√°rios HTML, ou seja, envia dados de entrada para o servidor;<br/>
-**PUT**: edita e actualiza documentos num servidor;<br/>
-**DELETE**: elimina um determinado dado ou cole√ß√£o do servidor.
</span>
<br/>
<br/>

### <span className="text-xl"> <b>APIs REST: Boas Pr√°ticas</b> </span>
<br/>
<span className="text-justify">
Finalmente, as API REST, nesta parte gostaria de fazer algumas recomenda√ß√µes relacionadas com os endpoints (os URL's) que ser√£o disponibilizados:
</span>
<br/>
#### 1.Usar pronomes em vez de verbos, e n√£o misturar plural e singular:
<br/>
```php 
   /getAllBooks ‚ùå
   /createNewBook ‚ùå
   /books ‚úÖ
   /categories ‚úÖ
```

<br/>
#### 2.Utilizar sub-recursos, ou seja, as rela√ß√µes existentes devem ser claramente indicadas no URL:
<br/>
```php
   GET /books/authors/100 ‚ùå
   GET /books/100/authors ‚úÖ (retorna os autores do livro 100)
   GET /books/100/authors/1 ‚úÖ (retorna o autor 1 do livro 100)
```
<br/>
<span className="text-justify">
#### 3.N√£o igonrar os cabe√ßalhos HTTP, h√° informa√ß√µes que devem ser transmitidas atrav√©s deles:
<br/>
- **Content-Type**: Indica qual o tipo de m√≠dia de um recurso
- **Accept**: anuncia quais os tipos de conte√∫do, expressos como¬†MIME types, que o cliente √© capaz de compreender, normalmente JSON
- **Authorization**: cont√©m as credenciais para autenticar o agente do utilizador com o servidor
- etc...
</span>
<br/>
#### 4.Versionamento da API
<br/>
Versionar uma API √© essencial tanto para os criadores quanto para os consumidores. Por exemplo:
<br/>
- <a href="https://www.api.bookstore-manuelluvuvamo.com/v1/books" className="border-b transition-all text-gray-500 duration-500 hover:border-gray-500" target="_blank">https://www.api.bookstore-manuelluvuvamo.com/v1/books</a>
- <a href="https://www.api.bookstore-manuelluvuvamo.com/v2/books" className="border-b transition-all text-gray-500 duration-500 hover:border-gray-500" target="_blank">https://www.api.bookstore-manuelluvuvamo.com/v2/books</a>
<br/>
<span className="text-justify">
Manter vers√µes anteriores ativas por um per√≠odo de transi√ß√£o permite que consumidores atualizem seus sistemas sem interrup√ß√µes.
</span>
<br/><br/>
Sem esquecer fa√ßam testes, automatizados de prefer√™ncia, seja eles unit√°rios ou de integra√ß√£o.üòÖüêû

---
<br/>
Obrigado por ler at√© aqui! Curta, compartilhe e deixe sua opini√£o <a href="https://manuelluvuvamo.vercel.app/contact" className="border-b transition-all text-gray-500 duration-500 hover:border-gray-500" target="_blank">Aqui!</a> üíªüöÄ
